# Introduction_to_OpenSource_SW
### [과제2] 조사내용 README 파일로 정리하기

##### 1) 리눅스 명령어: top, ps, jobs, kill 명령어 조사하기

- top

-동작중인 **프로세스의 상태**를 **실시간**으로 **화면에 출력**해주는 명령어

-*프로세서의 상태* 뿐만 아니라 *CPU, Memory, 부하 상태* 등도 확인 가능

-top 명령어는 **실행 상태**에서 다양한 명령을 입력하여 프로세서 상태를 **출력**하거나 **제어**

-사용법 : **top [option]**

-옵션 없이 입력하면 기본 3초로 화면을 갱신하며 정보 제공

-기본적인 실행화면($ top)

![1번](https://user-images.githubusercontent.com/97214476/171990147-c1afdc92-e493-4209-aa14-07bea59fd808.JPG)

-20:12:33 : 현재 서버 시간

-3:24 : 서버 가동 후 유지 시간

-2users : 현재 접속한 사용자 수

-load average : 최근 1분, 5분, 15분 동안의 시스템 부하(부하율)

-Tasks : 프로세서의 상태(3개의 프로세서가 실행중이고 206개의 프로세서가 대기중)

***CPU***

-%us : 유저 레벨에서 사용하고 있는 CPU의 비중

-%sy : 시스템 레벨에서 사용하고 있는 CPU비중

-%id : 유휴 상태의 CPU 비중

-%wa : 시스템이 I/O 요청을 처리하지 못한 상태에서의 CPU idle 상태인 비중

***Memory***

-KiB Mem, Swap : 각 메모리의 사용량

-Mem : 메모리 사용량(전체 메모리, 사용되지 않는 여유 메모리, 사용중인 메모리, 버퍼된 메모리)

-Swap : 스왑 메모리 상태(전체 스왑 메모리, 남아있는 스왑메모리, 사용중인 스왑 메모리, 캐싱메모리)

***프로세스 상태***

-PID : 프로세스ID

-USER : 사용자ID

-PR : 우선순위(priority)

-NI : Nice Value.(-20 ~ 19의 값으로 작을수록 우선순위 높음)

-VIRT : 가상 메모리의 총 사용량

-RES : 프로세스가 사용하는 실제 메모리양

-SHR : 프로세스가 사용하는 공유 메모리양

-S : 프로세스의 상태(*S(sleeping), R(running), W(swapped out process), Z(zombies)*)

-%CPU : CPU 사용률

-%MEM : Memory 사용률

-TIME+ : 프로세스가 사용한 총 CPU 시간(1/100초 단위까지 표시)

-COMMAND : 실행한 명령어

***top 실행 상태에서의 명령***

|명령어|설명|
|---|---|
|shift + p|CPU 사용률이 높은 프로세스 순서대로 표시(내림차순)|
|shift + m|Memory 사용률이 높은 프로세스 순서대로 표시(내림차순)|
|shift + t|프로세스가 돌아가는 시간 순서대로 표시|
|-k|kill -k 입력 후 종료할 PID 입력 signal을 입력하라고 하면 kill signal인 9를 입력
|-a|메모리 사용량에 따라 정렬|
|-b|Batch 모드 작동|
|-c|Command Line의 옵션 on/off|
|-d|지연 시간 간격|
|-h, ?|도움말|
|-H|스레드 on/off|
|-i|Zombie, Idle프로세스 출력을 on/off|
|-m|Memory와 관련된 항목 on/off|
|-M|Memory 유닛 탐지|
|-n|실행주기(반복횟수) 설정:*-n number*|
|-p|PID를 다음과 같이 모니터:*-pN1 -pN2 … or -pN1, N2 [, …]*|
|-q|top종료|
|-t|프로세스와 관련된 항목 on/off|
|[SPACE]|화면갱신|
|1|CPU 코어별 사용량|

ex)2초 간격으로 PID값이 1222인 프로세스에 관한 정보 출력

`$top -d 2 -p 1222`

ex)top명령을 batch모드로 3회 실행

`$top -bn 3`

- ps

-*Process Status*

-동작중인 **프로세스의 상태를 출력**해주는 명령어

-옵션 : **System V, BSD, GNU**에 따라 결과가 다르게 나타나고 표기법에도 차이 존재

-**System V** : 1개의 대시(-)를 사용, **BSD** : 대시 사용하지 않음, **GNU** : 2개의 대시(--)를 사용

-원하는 프로세스를 출력하기 위해 **정확한 옵션 사용**이 중요

-특히, 동작중인 전체 프로세스를 출력하는 경우 **System V**계열과 **BSD**계열의 옵션을 정확히 사용해야함

-사용법 : **ps [option]**

***ps 실행 상태에서의 옵션***

|옵션|설명|
|---|---|
|a|터미널과 연관된 프로세스 출력 옵션|
|u|프로세스 소유자를 기준으로 출력|
|x|실행 중인 모든 프로세스 정보 출력|
|l|프로세스의 정보를 길게 보여주는 옵션(우선순위와 관련된 **PRI**와 **NI**값 확인 가능|
|e|해당 프로세스에 관련된 환경 변수 정보 출력|
|f|프로세스간 상속 관계를 *트리구조* 로 보여줌|
|p|특정 PID지정시 사용|
|-A, -e|모든 프로세스 출력|
|-f|유닉스 스타일로 출력(UID, PID, PPID 등)|
|-C process|지정한 프로세스만 보여줌|
|-o|출력 포맷 지정|
|-p|특정 PID지정시 사용|
|-u|특정 사용자의 프로세스 정보 확인시 사용(사용자 지정하지 않았을 경우 현재 사용자 기준)|

ex)사용자와 관련된 프로세스 출력

`$ps`

ex)시스템에 동작중인 모든 프로세스를 소유자 정보와 함께 출력(BSD 계열)

`$ps aux`

ex)시스템에 동작중인 모든 프로세스를 출력(System V계열)

`$ps -ef`

- jobs

-**백그라운드**로 실행중인 프로세스 목록을 출력해주는 명령어

-현재 **중지**된 프로세스 목록을 출력해주는 명령어

-사용법 : **jobs [option]**

***jobs 실행 상태에서의 옵션***

|옵션|설명|
|---|---|
|-l|프로세스 그룹ID를 state필드 앞에 출력|
|-n|프로세스 그룹 중 대표 프로세스ID 출력|
|-p|각 프로세스ID에 대해 한 행씩 출력|
|command|지정한 명령어 실행|

***jobs로 알 수 있는 세션의 상태***

|상태|설명|
|---|---|
|Running|작업이 일시 중단되지 않았고 종료하지 않고 계속 진행중|
|Done|작업이 완료되어 0을 반환하고 종료|
|Done(code)|작업이 정상적으로 완료되었고 0이 아닌 코드를 반환|
|Stopped|작업이 일시중단|
|Stopped(SIGTSTP)|SIGTSTP신호가 작업을 일시중단|
|Stopped(SIGSTOP)|SIGSTOP신호가 작업을 일시중단|
|Stopped(SIGTTIN)|SIGTTIN신호가 작업을 일시중단|
|Stopped(SIGTTOU)|SIGTTOU신호가 작업을 일시중단|

ex)프로세스 번호를 추가하여 백그라운드 프로세스 출력

`$jobs -l`

- kill

-프로세스에 특정한 **시그널**을 보내는 명령어

-*옵션 없이 실행* 하면 프로세스에 **종료신호(15, TERM, SIGTERM)** 를 보냄

-보통 중지시킬 수 없는 프로세스를 종료시킬 때 사용

-사용법 : **kill [option]** **[signal]** **[PID or %Job_Number]**

***kill 실행 상태에서의 옵션***

|**옵션|설명**|
|---|---|
|-l|시그널의 종류 출력|
|-s signal| 시그널의 이름을 지정|

***시그널의 종류***

![2번](https://user-images.githubusercontent.com/97214476/172008552-119389c5-1f1f-4e0b-ac73-03597401e1ac.JPG)

***주요 시그널***

|시그널|영어|설명|
|---|---|---|
|SIGHUP|Hang up|세션이 종료될 때 시스템이 내리는 시그널|
|SIGINT|Interrupt|Ctrl + C, 종료 요청 시그널|
|SIGKILL|Kill|강제 종료 시그널|
|SIGSEGV|Segment Violation|메모리 침범 발생시 시스템이 보내는 시그널|
|SIGTERM|Terminate|기본값, 종료 요청 시그널|
|SIGTSTP|Temporary Stop|Ctrl + Z, 일시중지 요청 시그널|

ex)PID가 756, 757, 758인 프로세스를 강제 종료

`$kill -9 756 757 758`

---

##### 2) vim 에디터에서 매크로 사용방법(q, @)에 대하여 조사하기

